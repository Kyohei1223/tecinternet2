<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz: Sistemas Multimédia I (SMUL1)</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap"
        rel="stylesheet">
    <!-- Prism.js for Syntax Highlighting (One Dark Theme) -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-one-dark.min.css" rel="stylesheet" />
    <style>
        :root {
            --bg-gradient-start: #0f172a;
            --bg-gradient-end: #1e293b;
            --card-bg: rgba(30, 41, 59, 0.7);
            --card-border: rgba(148, 163, 184, 0.1);
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --accent-primary: #38bdf8;
            /* Light Blue */
            --accent-secondary: #818cf8;
            /* Indigo */
            --gradient-main: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);
            --correct-color: #10b981;
            --wrong-color: #ef4444;
            --code-bg: #282c34;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
            min-height: 100vh;
            color: var(--text-primary);
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 2.5rem;
            padding: 2.5rem;
            background: var(--card-bg);
            border-radius: 20px;
            backdrop-filter: blur(12px);
            border: 1px solid var(--card-border);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .header h1 {
            font-size: 2.25rem;
            font-weight: 800;
            background: var(--gradient-main);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.75rem;
            letter-spacing: -0.025em;
        }

        .header p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        /* Stats Bar */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2.5rem;
        }

        .stat {
            background: var(--card-bg);
            padding: 1.25rem;
            border-radius: 16px;
            text-align: center;
            border: 1px solid var(--card-border);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .stat:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .stat.reset-btn {
            cursor: pointer;
            background: rgba(239, 68, 68, 0.1);
            border-color: rgba(239, 68, 68, 0.2);
        }

        .stat.reset-btn:hover {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.4);
        }

        .stat-value {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--accent-primary);
            margin-bottom: 0.25rem;
        }

        .stat-label {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .stat.correct .stat-value {
            color: var(--correct-color);
        }

        .stat.wrong .stat-value {
            color: var(--wrong-color);
        }

        /* Progress Bar */
        .progress-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 999px;
            height: 8px;
            margin-bottom: 3rem;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: var(--gradient-main);
            border-radius: 999px;
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Toggle */
        .toggle-container {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 1.5rem;
        }

        .toggle {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            color: var(--text-secondary);
            user-select: none;
            transition: color 0.2s;
        }

        .toggle:hover {
            color: var(--text-primary);
        }

        .toggle input {
            accent-color: var(--accent-secondary);
            height: 1.1em;
            width: 1.1em;
        }

        /* Question Card */
        .question-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            border: 1px solid var(--card-border);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .question-card:hover {
            border-color: rgba(56, 189, 248, 0.3);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.15);
        }

        .question-card.answered {
            opacity: 0.85;
        }

        .question-card.answered:hover {
            opacity: 1;
        }

        .question-card.answered.correct-answer {
            border-color: rgba(16, 185, 129, 0.4);
        }

        .question-card.answered.wrong-answer {
            border-color: rgba(239, 68, 68, 0.4);
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .question-number {
            background: rgba(56, 189, 248, 0.15);
            color: var(--accent-primary);
            padding: 0.4rem 0.8rem;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.85rem;
        }

        .question-category {
            background: rgba(255, 255, 255, 0.05);
            padding: 0.4rem 0.8rem;
            border-radius: 8px;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .question-text {
            font-size: 1.15rem;
            font-weight: 500;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
        }

        /* Code Blocks - Inline and Block */
        :not(pre)>code[class*="language-"],
        pre[class*="language-"] {
            background: var(--code-bg) !important;
            border-radius: 8px !important;
            border: 1px solid rgba(255, 255, 255, 0.1);
            font-family: 'Fira Code', monospace !important;
            font-size: 0.9em !important;
            text-shadow: none !important;
        }

        /* Inline code specifically */
        :not(pre)>code {
            padding: 0.2rem 0.4rem !important;
            background: rgba(255, 255, 255, 0.1) !important;
            border-radius: 4px;
            font-size: 0.9em;
            font-family: 'Fira Code', monospace;
            color: #e2e8f0;
        }

        /* Options */
        .options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 1rem 1.25rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid transparent;
        }

        .option:hover:not(.disabled) {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .option.selected {
            background: rgba(56, 189, 248, 0.15);
            border-color: var(--accent-primary);
        }

        .option.correct {
            background: rgba(16, 185, 129, 0.15);
            border-color: var(--correct-color);
        }

        .option.wrong {
            background: rgba(239, 68, 68, 0.15);
            border-color: var(--wrong-color);
        }

        .option.disabled {
            cursor: default;
        }

        .option-letter {
            width: 32px;
            height: 32px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-right: 1rem;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .option.selected .option-letter {
            background: var(--accent-primary);
            color: #0f172a;
        }

        .option.correct .option-letter {
            background: var(--correct-color);
            color: #fff;
        }

        .option.wrong .option-letter {
            background: var(--wrong-color);
            color: #fff;
        }

        .option-text {
            flex: 1;
            font-size: 1rem;
        }

        .option-text code {
            /* Small tweak for code inside options */
            background: rgba(0, 0, 0, 0.2) !important;
        }

        /* Feedback */
        .feedback {
            margin-top: 1.5rem;
            padding: 1.25rem;
            border-radius: 12px;
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-5px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .feedback.wrong {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        .feedback-header {
            display: flex;
            align-items: center;
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .feedback.correct .feedback-header {
            color: var(--correct-color);
        }

        .feedback.wrong .feedback-header {
            color: var(--wrong-color);
        }

        .feedback-icon {
            margin-right: 0.5rem;
        }

        .explanation {
            font-size: 0.95rem;
            opacity: 0.9;
            margin-top: 0.5rem;
            line-height: 1.6;
        }

        .explanation strong {
            color: var(--accent-secondary);
        }

        /* Buttons */
        .btn-group {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 3rem;
        }

        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .btn-primary {
            background: var(--gradient-main);
            color: white;
            box-shadow: 0 4px 6px rgba(56, 189, 248, 0.25);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 12px rgba(56, 189, 248, 0.3);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        /* Responsive */
        @media (max-width: 600px) {
            .container {
                padding: 1rem;
            }

            .header h1 {
                font-size: 1.75rem;
            }

            .stat-value {
                font-size: 1.5rem;
            }

            .question-card {
                padding: 1.5rem;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>Preparação Exame SMUL1</h1>
            <p>100 Questões de Preparação (DDD, Scrum, Requisitos, Flask)</p>
        </div>

        <div class="stats-bar">
            <div class="stat">
                <div class="stat-value" id="total-answered">0</div>
                <div class="stat-label">Respondidas</div>
            </div>
            <div class="stat correct">
                <div class="stat-value" id="total-correct">0</div>
                <div class="stat-label">Correctas</div>
            </div>
            <div class="stat wrong">
                <div class="stat-value" id="total-wrong">0</div>
                <div class="stat-label">Erradas</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="percentage">0%</div>
                <div class="stat-label">Acerto</div>
            </div>
            <div class="stat reset-btn" onclick="resetQuiz()" title="Reiniciar Quiz">
                <div class="stat-value">↻</div>
                <div class="stat-label">Reiniciar</div>
            </div>
        </div>

        <div class="progress-container">
            <div class="progress-bar" id="progress-bar" style="width: 0%"></div>
        </div>

        <div class="toggle-container">
            <label class="toggle">
                <input type="checkbox" id="hide-answered">
                <span>Esconder respondidas</span>
            </label>
        </div>

        <div id="questions-container"></div>

        <div class="btn-group">
            <button class="btn btn-secondary" onclick="resetQuiz()">↻ Reiniciar Tudo</button>
            <button class="btn btn-primary" onclick="scrollToUnanswered()">↓ Próxima Questão</button>
        </div>
    </div>

    <!-- Prism JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>

    <script>
        // ========================================================================
        // DADOS DAS QUESTÕES
        // ========================================================================
        const questions = [
    {
        "category": "DDD",
        "question": "O que significa DDD?",
        "options": [
            "Domain-Data Definition",
            "Design-Driven Data",
            "Domain-Driven Design",
            "Data-Driven Development"
        ],
        "correct": 2,
        "explanation": "DDD significa Domain-Driven Design, uma abordagem de desenvolvimento focada no núcleo do negócio.",
        "id": 1
    },
    {
        "category": "DDD",
        "question": "Qual é o principal objetivo do DDD?",
        "options": [
            "Reduzir o custo de servidores",
            "Criar bases de dados mais rápidas",
            "Usar microserviços obrigatoriamente",
            "Alinhar o código com a realidade do negócio"
        ],
        "correct": 3,
        "explanation": "O DDD foca-se na complexidade do domínio e em garantir que o software resolve problemas reais do negócio.",
        "id": 2
    },
    {
        "category": "DDD",
        "question": "O que caracteriza uma Entidade (Entity) em DDD?",
        "options": [
            "É imutável",
            "É definida apenas pelos seus atributos",
            "Tem identidade única e contínua",
            "Não pode ter métodos"
        ],
        "correct": 2,
        "explanation": "Entidades são definidas pela sua identidade (ID), que persiste mesmo que os seus atributos mudem.",
        "id": 3
    },
    {
        "category": "DDD",
        "question": "O que caracteriza um Objeto de Valor (Value Object)?",
        "options": [
            "Tem um ID único na base de dados",
            "É definido pelos seus atributos e não tem identidade",
            "É a raiz do agregado",
            "Pode ser alterado livremente"
        ],
        "correct": 1,
        "explanation": "Value Objects não têm identidade própria; são caracterizados apenas pelos seus valores (ex: uma cor, um valor monetário).",
        "id": 4
    },
    {
        "category": "DDD",
        "question": "Qual destas opções descreve melhor um Agregado (Aggregate)?",
        "options": [
            "Um módulo do Python",
            "Uma coleção de serviços",
            "Uma tabela na base de dados",
            "Um conjunto de objetos tratados como uma unidade de consistência"
        ],
        "correct": 3,
        "explanation": "Um Agregado é um cluster de objetos de domínio que podem ser tratados como uma única unidade. Qualquer alteração deve manter a consistência de todo o agregado.",
        "id": 5
    },
    {
        "category": "DDD",
        "question": "Quem é a Aggregate Root?",
        "options": [
            "O utilizador administrador",
            "A única entidade do agregado que pode ser referenciada externamente",
            "A tabela principal da base de dados",
            "O primeiro objeto criado no sistema"
        ],
        "correct": 1,
        "explanation": "A Root é a porta de entrada do Agregado. Objetos de fora só podem referenciar a Root, nunca os objetos internos.",
        "id": 6
    },
    {
        "category": "DDD",
        "question": "Como deve ser feita a referência entre Agregados diferentes?",
        "options": [
            "Através de apontadores de memória",
            "Não deve haver referências",
            "Através do ID da Root",
            "Incluindo o objeto todo"
        ],
        "correct": 2,
        "explanation": "Para evitar acoplamento e problemas de performance, agregados devem referenciar outros agregados apenas pelo seu ID.",
        "id": 7
    },
    {
        "category": "DDD",
        "question": "Exemplo: Uma 'Morada' num sistema de entregas geralmente é modelada como:",
        "options": [
            "Aggregate Root",
            "Entity",
            "Service",
            "Value Object"
        ],
        "correct": 3,
        "explanation": "Uma morada é definida pelos seus valores (Rua, Código Postal). Se mudas a rua, é uma nova morada, logo é um Value Object.",
        "id": 8
    },
    {
        "category": "DDD",
        "question": "Exemplo: Um 'Cliente' num sistema de vendas é geralmente:",
        "options": [
            "Entity (e provavelmente Aggregate Root)",
            "Service",
            "Repository",
            "Value Object"
        ],
        "correct": 0,
        "explanation": "Um cliente tem identidade e ciclo de vida próprio, sendo normalmente uma Entidade e Raiz do seu próprio agregado.",
        "id": 9
    },
    {
        "category": "DDD",
        "question": "O que é a 'Linguagem Ubíqua' (Ubiquitous Language)?",
        "options": [
            "Linguagem comum entre developers e especialistas de domínio",
            "A linguagem de programação usada (ex: Python)",
            "SQL",
            "O inglês, obrigatoriamente"
        ],
        "correct": 0,
        "explanation": "É a linguagem partilhada e rigorosa usada por toda a equipa (técnica e de negócio) para descrever o modelo.",
        "id": 10
    },
    {
        "category": "DDD",
        "question": "Se um Objeto de Valor (Value Object) precisar de ser alterado, o que se deve fazer?",
        "options": [
            "Alterar os atributos da instância existente",
            "Apagar o agregado",
            "Criar uma nova instância com os novos valores",
            "Converter em Entidade"
        ],
        "correct": 2,
        "explanation": "Value Objects devem ser imutáveis. Para 'alterar', substitui-se o objeto antigo por um novo.",
        "id": 11
    },
    {
        "category": "DDD",
        "question": "O que acontece aos objetos dentro de um Agregado se a Root for apagada?",
        "options": [
            "São movidos para outro agregado",
            "Nada",
            "Ficam órfãos",
            "Devem ser apagados também (Cascading Delete)"
        ],
        "correct": 3,
        "explanation": "O Agregado é uma unidade de consistência e ciclo de vida. Sem a Root, os objetos internos não fazem sentido e devem ser removidos.",
        "id": 12
    },
    {
        "category": "DDD",
        "question": "Qual destas é uma regra de ouro dos Agregados?",
        "options": [
            "Roots não têm ID",
            "Agregados devem ser o maior possível",
            "Agregados podem referenciar objetos internos de outros agregados",
            "Uma transação deve alterar apenas um agregado de cada vez"
        ],
        "correct": 3,
        "explanation": "Idealmente, uma transação altera um só agregado para garantir escalabilidade e consistência simples.",
        "id": 13
    },
    {
        "category": "DDD",
        "question": "Onde deve ficar a lógica de validação de um Agregado?",
        "options": [
            "Dentro do próprio Agregado (na Root ou Entidades)",
            "Na Base de Dados",
            "No Controller",
            "No Frontend"
        ],
        "correct": 0,
        "explanation": "O modelo de domínio deve ser 'Rico' e conter as suas próprias regras de negócio e validações invariantes.",
        "id": 14
    },
    {
        "category": "DDD",
        "question": "O que é um Repositório (Repository) no DDD?",
        "options": [
            "Um serviço de email",
            "Onde guardamos o código (GitHub)",
            "Camada que abstrai a persistência (Base de Dados)",
            "Um tipo de Entidade"
        ],
        "correct": 2,
        "explanation": "Os repositórios servem para recuperar e guardar Agregados, escondendo os detalhes técnicos da base de dados.",
        "id": 15
    },
    {
        "category": "DDD",
        "question": "Um Repositório deve ser criado para:",
        "options": [
            "Todas as Entidades",
            "Todos os Value Objects",
            "Tabelas auxiliares",
            "Apenas Aggregate Roots"
        ],
        "correct": 3,
        "explanation": "Apenas as Aggregate Roots têm repositórios globais. Objetos internos são acedidos via Root.",
        "id": 16
    },
    {
        "category": "DDD",
        "question": "O que é um 'Bounded Context'?",
        "options": [
            "Uma fronteira lógica onde um modelo de domínio específico é válido",
            "Um limite de memória",
            "Uma variável limitada",
            "Uma restrição da base de dados"
        ],
        "correct": 0,
        "explanation": "Bounded Context define os limites onde um determinado modelo e Linguagem Ubíqua se aplicam (ex: Contexto de Vendas vs Contexto de Suporte).",
        "id": 17
    },
    {
        "category": "DDD",
        "question": "No contexto de uma Loja Online, 'Produto' no catálogo e 'Produto' no inventário são:",
        "options": [
            "Possivelmente modelos diferentes em Bounded Contexts diferentes",
            "Exatamente a mesma classe",
            "Sempre a mesma entidade",
            "Value Objects"
        ],
        "correct": 0,
        "explanation": "Em contextos diferentes (Vendas vs Logística), o conceito de 'Produto' pode ter atributos e comportamentos muito diferentes.",
        "id": 18
    },
    {
        "category": "DDD",
        "question": "Se dois objetos têm atributos iguais mas devem ser distinguidos, são:",
        "options": [
            "Value Objects",
            "Entidades",
            "Singletons",
            "Clones"
        ],
        "correct": 1,
        "explanation": "Se a distinção é necessária apesar dos atributos iguais, é necessária uma identidade -> Entidade.",
        "id": 19
    },
    {
        "category": "DDD",
        "question": "Um 'Email' (string de endereço) é tipicamente um:",
        "options": [
            "Service",
            "Module",
            "Entity",
            "Value Object"
        ],
        "correct": 3,
        "explanation": "O endereço de email em si é um valor. Se duas pessoas têm o email 'a@b.com', é o mesmo endereço value object.",
        "id": 20
    },
    {
        "category": "DDD",
        "question": "Serviços de Domínio (Domain Services) usam-se quando:",
        "options": [
            "Queremos aceder à base de dados",
            "Precisamos de uma API REST",
            "Sempre que há lógica",
            "Uma operação não pertence naturalmente a uma Entidade ou Value Object"
        ],
        "correct": 3,
        "explanation": "Domain Services encapsulam lógica de negócio que envolve múltiplas entidades ou não cabe bem numa só.",
        "id": 21
    },
    {
        "category": "DDD",
        "question": "A imutabilidade dos Value Objects facilita:",
        "options": [
            "A escrita na base de dados",
            "O routing do Flask",
            "A criação de IDs",
            "A partilha segura e a ausência de efeitos colaterais"
        ],
        "correct": 3,
        "explanation": "Sendo imutáveis, podem ser passados e partilhados sem medo que alguém os altere inesperadamente.",
        "id": 22
    },
    {
        "category": "DDD",
        "question": "Um identificador (ID) deve ser:",
        "options": [
            "Único dentro do seu tipo/sistema",
            "Sempre um número inteiro sequencial",
            "Aleatório sempre",
            "Opcional"
        ],
        "correct": 0,
        "explanation": "A unicidade é a característica essencial da identidade.",
        "id": 23
    },
    {
        "category": "DDD",
        "question": "O DDD defende o foco em:",
        "options": [
            "Performance de Baixo Nível",
            "Infraestrutura Tecnológica",
            "Domínio do problema e Lógica de Negócio",
            "Interface do Utilizador"
        ],
        "correct": 2,
        "explanation": "O 'Coração' do software é o negócio.",
        "id": 24
    },
    {
        "category": "DDD",
        "question": "Qual a relação entre DDD e Bases de Dados?",
        "options": [
            "DDD obriga a usar NoSQL",
            "O modelo de domínio não deve ser ditado pela base de dados",
            "A base de dados dita o modelo",
            "DDD não usa bases de dados"
        ],
        "correct": 1,
        "explanation": "Persistence Ignorance: O domínio deve ser desenhado para resolver o problema de negócio, a persistência é um detalhe de implementação.",
        "id": 25
    },
    {
        "category": "Scrum",
        "question": "O SCRUM é uma metodologia:",
        "options": [
            "Ágil",
            "Rígida",
            "Waterfall",
            "Cascata"
        ],
        "correct": 0,
        "explanation": "Scrum é a framework ágil mais popular.",
        "id": 26
    },
    {
        "category": "Scrum",
        "question": "Qual NÃO é um papel (Role) no Scrum?",
        "options": [
            "Product Owner",
            "Development Team",
            "Scrum Master",
            "Project Manager"
        ],
        "correct": 3,
        "explanation": "No Scrum 'puro', não existe a figura do Project Manager tradicional. As responsabilidades são divididas.",
        "id": 27
    },
    {
        "category": "Scrum",
        "question": "Quem é responsável por gerir o Product Backlog?",
        "options": [
            "Scrum Master",
            "Cliente",
            "Team",
            "Product Owner"
        ],
        "correct": 3,
        "explanation": "O PO é o dono do produto e prioriza o trabalho.",
        "id": 28
    },
    {
        "category": "Scrum",
        "question": "Quem é responsável por decidir COMO fazer o trabalho?",
        "options": [
            "CEO",
            "Development Team",
            "Scrum Master",
            "Product Owner"
        ],
        "correct": 1,
        "explanation": "A equipa é auto-organizada e decide os aspetos técnicos.",
        "id": 29
    },
    {
        "category": "Scrum",
        "question": "Qual é a duração típica de um Sprint?",
        "options": [
            "1 dia",
            "3 a 6 meses",
            "Variável conforme o trabalho",
            "1 a 4 semanas"
        ],
        "correct": 3,
        "explanation": "Sprints são time-boxed (duração fixa), tipicamente 2 semanas, max 4.",
        "id": 30
    },
    {
        "category": "Scrum",
        "question": "O que acontece na Sprint Planning?",
        "options": [
            "O PO distribui tarefas",
            "A equipa discute problemas pessoais",
            "A equipa mostra o trabalho feito",
            "A equipa define o que vai fazer no Sprint"
        ],
        "correct": 3,
        "explanation": "Planeamento colaborativo do trabalho do Sprint.",
        "id": 31
    },
    {
        "category": "Scrum",
        "question": "Qual o objetivo da Daily Scrum?",
        "options": [
            "Resolver problemas técnicos complexos nas 15 min",
            "O PO dar ordens",
            "Fazer relatórios de progresso para a gestão",
            "Sincronizar a equipa e planear as próximas 24h"
        ],
        "correct": 3,
        "explanation": "Sincronização rápida. Problemas complexos discutem-se depois.",
        "id": 32
    },
    {
        "category": "Scrum",
        "question": "Quando ocorre a Sprint Review?",
        "options": [
            "No início do Sprint",
            "Todos os dias",
            "No final do Sprint",
            "A meio do Sprint"
        ],
        "correct": 2,
        "explanation": "Para inspecionar o incremento e adaptar o Product Backlog.",
        "id": 33
    },
    {
        "category": "Scrum",
        "question": "Qual a diferença entre Review e Retrospective?",
        "options": [
            "Retrospective é opcional",
            "São a mesma coisa",
            "Review é interna, Retrospective é com o cliente",
            "Review foca no Produto, Retrospective foca no Processo"
        ],
        "correct": 3,
        "explanation": "A Review é sobre 'O que fizemos'. A Retrospective é sobre 'Como trabalhámos'.",
        "id": 34
    },
    {
        "category": "Scrum",
        "question": "O que é um Incremento?",
        "options": [
            "A lista de requisitos",
            "O aumento de salário",
            "A soma de todos os itens do Backlog completados no Sprint + anteriores",
            "O plano de testes"
        ],
        "correct": 2,
        "explanation": "É o resultado utilizável e 'Done' do Sprint.",
        "id": 35
    },
    {
        "category": "Scrum",
        "question": "O que é o Definition of Done (DoD)?",
        "options": [
            "O documento de requisitos",
            "A data de entrega",
            "A aprovação do chefe",
            "Uma lista de critérios para considerar um item completo"
        ],
        "correct": 3,
        "explanation": "Garante qualidade e transparência sobre o estado do trabalho.",
        "id": 36
    },
    {
        "category": "Scrum",
        "question": "O Scrum Master é:",
        "options": [
            "O secretário do projeto",
            "Um líder servidor (Servant-Leader)",
            "O responsável pelos commits",
            "O chefe da equipa"
        ],
        "correct": 1,
        "explanation": "Ajuda a equipa e a organização a usar o Scrum, removendo impedimentos.",
        "id": 37
    },
    {
        "category": "Scrum",
        "question": "Se o Sprint não acabar e sobrarem tarefas, o que acontece?",
        "options": [
            "A equipa trabalha no fim de semana",
            "O Sprint é prolongado",
            "O Sprint termina na data marcada e o que não foi feito volta ao Backlog",
            "O projeto é cancelado"
        ],
        "correct": 2,
        "explanation": "Sprints são time-boxed. Nunca se estendem. Aprende-se com isso para planear menos no próximo.",
        "id": 38
    },
    {
        "category": "Scrum",
        "question": "O Waterfall é ideal quando:",
        "options": [
            "A equipa é pequena",
            "Os requisitos são claros e fixos desde o início",
            "O mercado muda rápido",
            "O cliente não sabe o que quer"
        ],
        "correct": 1,
        "explanation": "Cascata funciona bem para projetos previsíveis e lineares.",
        "id": 39
    },
    {
        "category": "Scrum",
        "question": "O Manifesto Ágil valoriza mais 'Software a funcionar' do que:",
        "options": [
            "Colaboração com o cliente",
            "Mudança",
            "Interação com indivíduos",
            "Documentação abrangente"
        ],
        "correct": 3,
        "explanation": "Embora valorize a documentação, o software funcional é a medida primária de progresso.",
        "id": 40
    },
    {
        "category": "Scrum",
        "question": "O que é o Sprint Backlog?",
        "options": [
            "As notas da reunião",
            "Itens selecionados do Product Backlog para o Sprint + plano de entrega",
            "O histórico de bugs",
            "Todo o trabalho do projeto"
        ],
        "correct": 1,
        "explanation": "É o plano da equipa para o Sprint atual.",
        "id": 41
    },
    {
        "category": "Scrum",
        "question": "Quem pode cancelar um Sprint?",
        "options": [
            "A Equipa",
            "Apenas o Product Owner",
            "O Cliente",
            "O Scrum Master"
        ],
        "correct": 1,
        "explanation": "O PO tem a autoridade para cancelar se o objetivo do Sprint se tornar obsoleto.",
        "id": 42
    },
    {
        "category": "Scrum",
        "question": "O que é um 'Burn-down Chart'?",
        "options": [
            "Gráfico de custos",
            "Layout do escritório",
            "Gráfico que mostra trabalho restante vs tempo",
            "Gráfico de bugs"
        ],
        "correct": 2,
        "explanation": "Ferramenta visual para acompanhar o progresso do Sprint ou Projeto.",
        "id": 43
    },
    {
        "category": "Scrum",
        "question": "A equipa de desenvolvimento deve ser:",
        "options": [
            "Multifuncional (Cross-functional)",
            "Gerida pelo Scrum Master",
            "Grande (>15 pessoas)",
            "Especializada apenas numa coisa"
        ],
        "correct": 0,
        "explanation": "Deve ter todas as competências necessárias para entregar o incremento.",
        "id": 44
    },
    {
        "category": "Scrum",
        "question": "O Scrum garante sucesso automático do projeto?",
        "options": [
            "Sim, sempre",
            "Sim, se usarmos Jira",
            "Depende do orçamento",
            "Não, é uma framework que expõe problemas"
        ],
        "correct": 3,
        "explanation": "Scrum torna os problemas visíveis para que possam ser resolvidos, não os resolve por magia.",
        "id": 45
    },
    {
        "category": "Scrum",
        "question": "User Stories são estimadas frequentemente usando:",
        "options": [
            "Linhas de código",
            "Horas exatas",
            "Número de ficheiros",
            "Story Points"
        ],
        "correct": 3,
        "explanation": "Story Points medem esforço relativo/complexidade, não tempo absoluto.",
        "id": 46
    },
    {
        "category": "Scrum",
        "question": "Planning Poker é uma técnica para:",
        "options": [
            "Decidir quem paga o almoço",
            "Priorizar bugs",
            "Jogar no intervalo",
            "Estimativa conjunta"
        ],
        "correct": 3,
        "explanation": "Técnica de consenso para estimar o esforço das User Stories.",
        "id": 47
    },
    {
        "category": "Scrum",
        "question": "O Backlog deve ser DEEP. O 'E' significa:",
        "options": [
            "Easy",
            "External",
            "Estimated",
            "Expensive"
        ],
        "correct": 2,
        "explanation": "Detailed appropriately, Estimated, Emergent, Prioritized.",
        "id": 48
    },
    {
        "category": "Scrum",
        "question": "No Scrum, as alterações durante o Sprint:",
        "options": [
            "São encorajadas a qualquer momento",
            "São proibidas por lei",
            "Dependem do humor do chefe",
            "Devem ser evitadas para não comprometer o foco"
        ],
        "correct": 3,
        "explanation": "O Sprint deve ter estabilidade. Mudanças vão para o próximo.",
        "id": 49
    },
    {
        "category": "Scrum",
        "question": "A 'Velocity' da equipa é:",
        "options": [
            "A média de Story Points entregues por Sprint",
            "A rapidez do servidor",
            "O número de horas extra",
            "A velocidade de escrita de código"
        ],
        "correct": 0,
        "explanation": "Ajuda a prever quanto trabalho a equipa consegue fazer em sprints futuros.",
        "id": 50
    },
    {
        "category": "Requisitos",
        "question": "Um Requisito Funcional descreve:",
        "options": [
            "A cor do sistema",
            "Como o sistema faz",
            "A velocidade do sistema",
            "O que o sistema faz"
        ],
        "correct": 3,
        "explanation": "Funcionalidades, comportamentos, serviços.",
        "id": 51
    },
    {
        "category": "Requisitos",
        "question": "Um Requisito Não Funcional descreve:",
        "options": [
            "As funções de login",
            "Os casos de uso",
            "Novas funcionalidades",
            "Atributos de qualidade e restrições"
        ],
        "correct": 3,
        "explanation": "Performance, Segurança, Usabilidade, etc.",
        "id": 52
    },
    {
        "category": "Requisitos",
        "question": "No acrónimo FURPS+, o 'P' significa:",
        "options": [
            "Planning",
            "Performance",
            "People",
            "Process"
        ],
        "correct": 1,
        "explanation": "Desempenho (tempo de resposta, throughput, recursos).",
        "id": 53
    },
    {
        "category": "Requisitos",
        "question": "No acrónimo FURPS+, o 'R' significa:",
        "options": [
            "Realism",
            "Requirements",
            "Risk",
            "Reliability (Confiabilidade)"
        ],
        "correct": 3,
        "explanation": "Disponibilidade, MTBF (Mean Time Between Failures), recuperação.",
        "id": 54
    },
    {
        "category": "Requisitos",
        "question": "Qual destes é um Requisito Não Funcional?",
        "options": [
            "O sistema deve responder em menos de 1 segundo",
            "O sistema deve permitir login",
            "O sistema deve calcular juros",
            "O sistema deve imprimir relatório"
        ],
        "correct": 0,
        "explanation": "É uma restrição de performance.",
        "id": 55
    },
    {
        "category": "Requisitos",
        "question": "Uma User Story segue tipicamente o formato:",
        "options": [
            "Se [condição] então [resultado]",
            "O sistema deve [ação]",
            "Eu quero [coisa]",
            "Como [ator], quero [ação] para [benefício]"
        ],
        "correct": 3,
        "explanation": "Foca no valor para o utilizador.",
        "id": 56
    },
    {
        "category": "Requisitos",
        "question": "Num Diagrama de Casos de Uso, um Ator representa:",
        "options": [
            "O administrador",
            "Um papel desempenhado por um utilizador ou sistema externo",
            "Um botão no ecrã",
            "Uma pessoa específica"
        ],
        "correct": 1,
        "explanation": "Atores são papéis (Ex: Cliente, Gestor, API Externa).",
        "id": 57
    },
    {
        "category": "Requisitos",
        "question": "A relação 'Include' num Caso de Uso significa:",
        "options": [
            "Uma herança",
            "O caso de uso incluído é opcional",
            "O caso de uso base obrigatoriamente usa o incluído",
            "O caso de uso base é filho do incluído"
        ],
        "correct": 2,
        "explanation": "Reutilização de comportamento comum e obrigatório.",
        "id": 58
    },
    {
        "category": "Requisitos",
        "question": "A relação 'Extend' num Caso de Uso significa:",
        "options": [
            "Erro de sistema",
            "Comportamento obrigatório",
            "Cópia do caso de uso",
            "Comportamento opcional ou excecional sob certas condições"
        ],
        "correct": 3,
        "explanation": "O caso base pode funcionar sem a extensão, mas a extensão adiciona passos extras em certos cenários.",
        "id": 59
    },
    {
        "category": "Requisitos",
        "question": "O 'Levantamento de Requisitos' é:",
        "options": [
            "Instalar o servidor",
            "O processo de descobrir o que os stakeholders precisam",
            "Testar o software",
            "Escrever código"
        ],
        "correct": 1,
        "explanation": "Entrevistas, workshops, observação para entender o problema.",
        "id": 60
    },
    {
        "category": "Requisitos",
        "question": "Qual destes é um requisito de Usabilidade (FURPS)?",
        "options": [
            "O sistema deve aguentar 1000 users",
            "O sistema deve ser intuitivo para utilizadores sem formação",
            "O sistema deve encriptar passwords",
            "O sistema deve ter backup"
        ],
        "correct": 1,
        "explanation": "Facilidade de uso e aprendizagem.",
        "id": 61
    },
    {
        "category": "Requisitos",
        "question": "O 'Critério de Aceitação' numa User Story serve para:",
        "options": [
            "Definir o prazo",
            "Definir quando a história está completa e correta",
            "Contar piadas",
            "Dizer quem vai fazer"
        ],
        "correct": 1,
        "explanation": "Testes ou condições que têm de ser verdadeiros para a Story ser aceite.",
        "id": 62
    },
    {
        "category": "Requisitos",
        "question": "A WBS (Work Breakdown Structure) serve para:",
        "options": [
            "Gerir versões Git",
            "Fazer diagramas de classes",
            "Programar em Java",
            "Decompor o projeto em partes menores e geríveis"
        ],
        "correct": 3,
        "explanation": "Estrutura Analítica do Projeto, hierárquica.",
        "id": 63
    },
    {
        "category": "Requisitos",
        "question": "Requisitos de 'Supportability' incluem:",
        "options": [
            "Facilidade de manutenção e instalação",
            "Rapidez",
            "Cores do ecrã",
            "Preço"
        ],
        "correct": 0,
        "explanation": "Manutenibilidade, escalabilidade, compatibilidade.",
        "id": 64
    },
    {
        "category": "Requisitos",
        "question": "O Diagrama de Gantt é usado para:",
        "options": [
            "Desenhar base de dados",
            "Escrever testes",
            "Calendarização e gestão de dependências temporais",
            "Modelar classes"
        ],
        "correct": 2,
        "explanation": "Visualizar o cronograma do projeto.",
        "id": 65
    },
    {
        "category": "Requisitos",
        "question": "Um 'Stakeholder' é:",
        "options": [
            "Apenas o chefe",
            "Apenas o programador",
            "Qualquer pessoa/entidade afetada pelo projeto",
            "Apenas quem paga"
        ],
        "correct": 2,
        "explanation": "Interessados no projeto (Clientes, Utilizadores, Equipa, Reguladores).",
        "id": 66
    },
    {
        "category": "Requisitos",
        "question": "'O sistema deve ser desenvolvido em Python'. Isto é um requisito de:",
        "options": [
            "Funcional",
            "Desempenho",
            "Usabilidade",
            "Implementação (Restrição Técnica)"
        ],
        "correct": 3,
        "explanation": "Muitas vezes cai no '+' do FURPS+ (Design/Implementation Constraints).",
        "id": 67
    },
    {
        "category": "Requisitos",
        "question": "Brainstorming é uma técnica de:",
        "options": [
            "Programação",
            "Elicitação (Levantamento) de Requisitos",
            "Deploy",
            "Teste"
        ],
        "correct": 1,
        "explanation": "Gerar ideias em grupo.",
        "id": 68
    },
    {
        "category": "Requisitos",
        "question": "Um Caso de Uso descreve o sistema como:",
        "options": [
            "Uma base de dados",
            "Uma caixa preta (Black Box)",
            "Uma caixa branca (código visível)",
            "Um fluxograma detalhado"
        ],
        "correct": 1,
        "explanation": "Foca nas interações externas, não na implementação interna.",
        "id": 69
    },
    {
        "category": "Requisitos",
        "question": "MoSCoW é uma técnica para:",
        "options": [
            "Gestão de memória",
            "Programação na Rússia",
            "Design gráfico",
            "Priorização de requisitos"
        ],
        "correct": 3,
        "explanation": "Must have, Should have, Could have, Won't have.",
        "id": 70
    },
    {
        "category": "Requisitos",
        "question": "Prototipagem ajuda a:",
        "options": [
            "Evitar testes",
            "Validar requisitos e interface com o utilizador",
            "Substituir a base de dados",
            "Gerar o código final automaticamente"
        ],
        "correct": 1,
        "explanation": "Ter feedback visual cedo.",
        "id": 71
    },
    {
        "category": "Requisitos",
        "question": "A rastreabilidade dos requisitos permite:",
        "options": [
            "Saber a hora do commit",
            "Saber a origem e onde é implementado cada requisito",
            "Saber quem escreveu o código",
            "Nada"
        ],
        "correct": 1,
        "explanation": "Ligar Requisito <-> Design <-> Código <-> Teste.",
        "id": 72
    },
    {
        "category": "Requisitos",
        "question": "Qual a diferença entre Cliente e Utilizador?",
        "options": [
            "Não há diferença",
            "São sempre a mesma pessoa",
            "O Utilizador manda no Cliente",
            "O Cliente compra/decide, o Utilizador usa"
        ],
        "correct": 3,
        "explanation": "Nem sempre quem paga é quem usa o sistema.",
        "id": 73
    },
    {
        "category": "Requisitos",
        "question": "Um diagrama de Casos de Uso é um diagrama:",
        "options": [
            "Comportamental UML",
            "De fluxo de dados",
            "Estrutural UML",
            "Entidade-Relacionamento"
        ],
        "correct": 0,
        "explanation": "Mostra o comportamento do sistema sob o ponto de vista dos atores.",
        "id": 74
    },
    {
        "category": "Requisitos",
        "question": "Validar requisitos significa:",
        "options": [
            "Confirmar que estamos a construir o produto certo",
            "Verificar se o código compila",
            "Instalar o Windows",
            "Formatar o PC"
        ],
        "correct": 0,
        "explanation": "Validation vs Verification.",
        "id": 75
    },
    {
        "category": "Flask",
        "question": "O Flask segue o padrão arquitetural:",
        "options": [
            "MVC (ou MVT)",
            "Microservice puro sem padrão",
            "Observer",
            "Singleton"
        ],
        "correct": 0,
        "explanation": "Model-View-Controller (adaptado).",
        "id": 76
    },
    {
        "category": "Flask",
        "question": "Qual o decorador para definir uma rota em Flask?",
        "options": [
            "@app.path('/')",
            "def route():",
            "@app.route('/')",
            "@app.url('/')"
        ],
        "correct": 2,
        "explanation": "Regista a função para responder a um URL.",
        "id": 77
    },
    {
        "category": "Flask",
        "question": "O que faz o `render_template`?",
        "options": [
            "Redireciona o utilizador",
            "Gera HTML a partir de um template Jinja2",
            "Envia um ficheiro estático",
            "Erros de base de dados"
        ],
        "correct": 1,
        "explanation": "Combina o template HTML com os dados Python.",
        "id": 78
    },
    {
        "category": "Flask",
        "question": "O SQLAlchemy é:",
        "options": [
            "Um navegador",
            "Um ORM (Object Relational Mapper)",
            "Uma base de dados",
            "Um servidor web"
        ],
        "correct": 1,
        "explanation": "Biblioteca para interagir com SQL usando objetos Python.",
        "id": 79
    },
    {
        "category": "Flask",
        "question": "Para passar dados de um form HTML para o Flask, usamos:",
        "options": [
            "request.html",
            "request.data",
            "request.args",
            "request.form"
        ],
        "correct": 3,
        "explanation": "Dados de POST form-data vêm em request.form.",
        "id": 80
    },
    {
        "category": "Flask",
        "question": "O comando `git init` serve para:",
        "options": [
            "Iniciar um novo repositório Git local",
            "Iniciar o download",
            "Iniciar o PC",
            "Apagar tudo"
        ],
        "correct": 0,
        "explanation": "Cria a pasta .git.",
        "id": 81
    },
    {
        "category": "Flask",
        "question": "Para guardar o estado atual dos ficheiros no histórico Git, usamos:",
        "options": [
            "git record",
            "git commit",
            "git save",
            "git store"
        ],
        "correct": 1,
        "explanation": "Cria um snapshot (commit) na timeline.",
        "id": 82
    },
    {
        "category": "Flask",
        "question": "O Jinja2 permite usar lógica nos templates HTML. O símbolo `{% %}` é para:",
        "options": [
            "Imprimir variáveis",
            "CSS",
            "Estruturas de controlo (if, for)",
            "Comentários"
        ],
        "correct": 2,
        "explanation": "{{ }} é para output, {% %} é para lógica.",
        "id": 83
    },
    {
        "category": "Flask",
        "question": "Método HTTP para enviar dados sensíveis (login) ou criar recursos:",
        "options": [
            "GET",
            "POST",
            "HEAD",
            "OPTION"
        ],
        "correct": 1,
        "explanation": "POST envia dados no corpo do pedido, mais seguro que GET (URL).",
        "id": 84
    },
    {
        "category": "Flask",
        "question": "Em SQLAlchemy, uma classe que herda de `db.Model` representa:",
        "options": [
            "Uma coluna",
            "Uma linha",
            "Uma tabela na base de dados",
            "Uma query"
        ],
        "correct": 2,
        "explanation": "O modelo define a estrutura da tabela.",
        "id": 85
    },
    {
        "category": "Flask",
        "question": "O que é uma 'Migration'?",
        "options": [
            "Mudar de linguagem",
            "Uma alteração controlada ao esquema da base de dados",
            "Copiar ficheiros",
            "Mudar de servidor"
        ],
        "correct": 1,
        "explanation": "Versionamento da estrutura da BD (ex: Alembic).",
        "id": 86
    },
    {
        "category": "Flask",
        "question": "`git pull` é a combinação de:",
        "options": [
            "git fetch + git rebase",
            "git download + git update",
            "git fetch + git merge",
            "git clone + git init"
        ],
        "correct": 2,
        "explanation": "Traz as alterações e aplica-as no branch atual.",
        "id": 87
    },
    {
        "category": "Flask",
        "question": "O ficheiro `.gitignore` serve para:",
        "options": [
            "Configurar o servidor",
            "Guardar passwords",
            "Ignorar erros",
            "Listar ficheiros que o Git deve ignorar"
        ],
        "correct": 3,
        "explanation": "Evita commitar lixo, ficheiros compilados, .env, etc.",
        "id": 88
    },
    {
        "category": "Flask",
        "question": "Para criar um ambiente virtual em Python:",
        "options": [
            "pip install env",
            "python create env",
            "python -m venv venv",
            "virtualenv start"
        ],
        "correct": 2,
        "explanation": "Comando padrão para isolar dependências.",
        "id": 89
    },
    {
        "category": "Flask",
        "question": "O ficheiro `requirements.txt` serve para:",
        "options": [
            "Guardar requisitos funcionais",
            "Configurar o Git",
            "Documentar o código",
            "Listar as dependências do projeto"
        ],
        "correct": 3,
        "explanation": "Permite instalar tudo com pip install -r requirements.txt.",
        "id": 90
    },
    {
        "category": "Flask",
        "question": "Em MVC, a 'View' (no contexto geral, não Flask específico) é responsável por:",
        "options": [
            "Processar a lógica",
            "Apresentar os dados ao utilizador",
            "Enviar email",
            "Aceder à BD"
        ],
        "correct": 1,
        "explanation": "Renderização da interface.",
        "id": 91
    },
    {
        "category": "Flask",
        "question": "Qual comando instala bibliotecas Python?",
        "options": [
            "python get",
            "npm install",
            "pip install",
            "git install"
        ],
        "correct": 2,
        "explanation": "Pip Installs Packages.",
        "id": 92
    },
    {
        "category": "Flask",
        "question": "O que é o 'Github'?",
        "options": [
            "Uma linguagem",
            "Um sistema operativo",
            "Uma plataforma de alojamento de código Git",
            "O mesmo que Git"
        ],
        "correct": 2,
        "explanation": "Git é a ferramenta, GitHub é o serviço.",
        "id": 93
    },
    {
        "category": "Flask",
        "question": "Para aceder a parâmetros do URL (ex: /search?q=gato) usamos:",
        "options": [
            "request.json",
            "request.form",
            "request.path",
            "request.args"
        ],
        "correct": 3,
        "explanation": "Query strings estão em args.",
        "id": 94
    },
    {
        "category": "Flask",
        "question": "session.commit() em SQLAlchemy serve para:",
        "options": [
            "Apagar tudo",
            "Confirmar e gravar as alterações na BD",
            "Iniciar transação",
            "Cancelar alterações"
        ],
        "correct": 1,
        "explanation": "Torna persistente a transação atual.",
        "id": 95
    },
    {
        "category": "Flask",
        "question": "Flask é considerado 'micro' porque:",
        "options": [
            "Foi feito por uma pessoa pequena",
            "Só serve para sites pequenos",
            "Não traz ORM nem validação por defeito, é modular",
            "É lento"
        ],
        "correct": 2,
        "explanation": "Core simples, extensível via plugins.",
        "id": 96
    },
    {
        "category": "Flask",
        "question": "Para definir uma chave primária em SQLAlchemy:",
        "options": [
            "primary_key=True",
            "id=True",
            "key=Primary",
            "unique=True"
        ],
        "correct": 0,
        "explanation": "Atributo da coluna.",
        "id": 97
    },
    {
        "category": "Flask",
        "question": "Um 'branch' no Git permite:",
        "options": [
            "Apagar histórico",
            "Desenvolver funcionalidades isoladamente",
            "Criar um novo repositório",
            "Partir o código"
        ],
        "correct": 1,
        "explanation": "Ramos paralelos de desenvolvimento.",
        "id": 98
    },
    {
        "category": "Flask",
        "question": "O erro 404 significa:",
        "options": [
            "Server Error",
            "Unauthorized",
            "Not Found",
            "Bad Request"
        ],
        "correct": 2,
        "explanation": "Recurso não encontrado.",
        "id": 99
    },
    {
        "category": "Flask",
        "question": "O erro 500 significa:",
        "options": [
            "Internal Server Error",
            "NotFound",
            "Redirect",
            "OK"
        ],
        "correct": 0,
        "explanation": "Erro no servidor (código crashou).",
        "id": 100
    }
];

        // ESTADO APLICAÇÃO
        // ========================================================================
        let answers = {};

        // ========================================================================
        // FUNÇÕES
        // ========================================================================

        function renderQuestions() {
            const container = document.getElementById('questions-container');
            const hideAnswered = document.getElementById('hide-answered').checked;

            let filtered = questions;
            if (hideAnswered) {
                filtered = filtered.filter(q => answers[q.id] === undefined);
            }

            container.innerHTML = filtered.length
                ? filtered.map(q => createQuestionCard(q)).join('')
                : '<p style="text-align:center; padding: 2rem; color: var(--text-secondary)">Todas as questões apresentadas foram respondidas.</p>';

            // Re-run Prism highlighting on new elements
            Prism.highlightAll();
        }

        function createQuestionCard(q) {
            const answer = answers[q.id];
            const isAnswered = answer !== undefined;
            const isCorrect = answer === q.correct;

            let cardClass = 'question-card';
            if (isAnswered) {
                cardClass += ' answered ' + (isCorrect ? 'correct-answer' : 'wrong-answer');
            }

            return `
                <div class="${cardClass}" id="question-${q.id}">
                    <div class="question-header">
                        <span class="question-number">Questão ${q.id}</span>
                        <span class="question-category">${q.category}</span>
                    </div>
                    <div class="question-text">${q.question}</div>
                    <div class="options">
                        ${q.options.map((opt, i) => createOption(q.id, opt, i, q.correct, answer)).join('')}
                    </div>
                    ${isAnswered ? createFeedback(isCorrect, q.options[q.correct], q.explanation) : ''}
                </div>
            `;
        }

        function createOption(qId, text, index, correct, answer) {
            const isAnswered = answer !== undefined;
            const isSelected = answer === index;
            const isCorrectOption = correct === index;

            let optClass = 'option';
            if (isAnswered) {
                optClass += ' disabled';
                if (isCorrectOption) optClass += ' correct';
                else if (isSelected) optClass += ' wrong';
            }

            // Converter código nas opções para usar code tags do Prism lightweight se necessário
            // Mas as opções já vêm com HTML <code> básico. 
            // Vamos assumir que o CSS trata do básico ou o user quer highlight real lá também?
            // Para simplicidade, nas opções mantemos simples ou usamos Prism inline se houver <code>

            const onclick = isAnswered ? '' : `onclick="selectAnswer(${qId}, ${index})"`;
            const letters = ['A', 'B', 'C', 'D', 'E'];

            return `
                <div class="${optClass}" ${onclick}>
                    <span class="option-letter">${letters[index]}</span>
                    <span class="option-text">${text}</span>
                </div>
            `;
        }

        function createFeedback(isCorrect, correctText, explanation) {
            const icon = isCorrect ? 'Correcto!' : 'Errado!';

            return `
                <div class="feedback show ${isCorrect ? 'correct' : 'wrong'}">
                    <div class="feedback-header">
                        <span class="feedback-icon">${isCorrect ? '✅' : '❌'}</span>
                        ${icon}
                    </div>
                    <div style="margin-bottom:0.5rem">
                        ${isCorrect ? 'Muito bem!' : 'A resposta correta é: <strong>' + correctText + '</strong>'}
                    </div>
                    ${explanation ? `<div class="explanation">💡 <strong>Explicação:</strong> ${explanation}</div>` : ''}
                </div>
            `;
        }

        function selectAnswer(qId, optionIndex) {
            answers[qId] = optionIndex;
            saveProgress();
            renderQuestions(); // Re-render to show feedback and lock options
            updateStats();
        }

        function updateStats() {
            const total = Object.keys(answers).length;
            const correct = questions.filter(q => answers[q.id] === q.correct).length;
            const wrong = total - correct;
            const percentage = total > 0 ? Math.round((correct / total) * 100) : 0;

            document.getElementById('total-answered').textContent = total;
            document.getElementById('total-correct').textContent = correct;
            document.getElementById('total-wrong').textContent = wrong;
            document.getElementById('percentage').textContent = percentage + '%';
            document.getElementById('progress-bar').style.width = (total / questions.length * 100) + '%';
        }

        function scrollToUnanswered() {
            const unanswered = questions.find(q => answers[q.id] === undefined);
            if (unanswered) {
                const element = document.getElementById(`question-${unanswered.id}`);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            } else {
                alert('🎉 Parabéns! Respondeste a todas as questões!');
            }
        }

        function resetQuiz() {
            if (confirm('Tens a certeza que queres reiniciar o quiz?')) {
                answers = {};
                localStorage.removeItem('quizProgressExtraIdentityV2');
                renderQuestions();
                updateStats();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function saveProgress() {
            localStorage.setItem('quizProgressExtraIdentityV2', JSON.stringify(answers));
        }

        function loadProgress() {
            const saved = localStorage.getItem('quizProgressExtraIdentityV2');
            if (saved) {
                answers = JSON.parse(saved);
            }
        }

        // ========================================================================
        // INICIALIZAÇÃO
        // ========================================================================
        document.addEventListener('DOMContentLoaded', () => {
            loadProgress();
            renderQuestions();
            updateStats();
            document.getElementById('hide-answered').addEventListener('change', renderQuestions);
        });
    </script>
</body>

</html>